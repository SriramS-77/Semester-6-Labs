<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Basic Site Template</title>
    </head>

    <body style="display: flex; flex-direction: column; align-items: center; justify-content: center; width: 100%; height: 100vh;">
        <form>
            <fieldset style="display: flex; flex-direction: column; gap: 30px;">
                <legend><h3>Student Details Form:</h3></legend>
                <div>
                    <label>Name:</label>
                    <input type="text" id="name_input">
                </div>
                <div>
                    <label>Date of birth:</label>
                    <input type="date" id="dob_input">
                </div>
                <div>
                    <label>Contact number:</label>
                    <input type="number" min="1000000000" max="9999999999" id="phone_input">
                </div>
                <div>
                    <label>Email:</label>
                    <input type="email" id="email_input">
                </div>
                <div style="text-align: left;">
                    <h4>Marks:</h4>
                    <div style="display: flex; flex-direction: column;">
                        <div>
                            <label style="margin-right: 20px;">English:</label> 
                            <input type="number" min="0" max="100" class="subject_input">
                        </div>
                        <div>
                            <label style="margin-right: 20px;">Maths:</label>
                            <input type="number" min="0" max="100" class="subject_input">
                        </div>
                        <div>
                            <label style="margin-right: 20px;">Physics:</label>
                            <input type="number" min="0" max="100" class="subject_input">
                        </div>
                    </div>
                </div>

                <button type="button" onclick="submit_form();">Submit</button>

                <textarea id="disp_text" style="display: none; height: fit-content;"></textarea>
                <label style="display: none;">Average marks across subjects: </label>
            </fieldset>
        </form>
    </body>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        function submit_form() {
            let text = "";
            text += "Name: " + $('#name_input').val();
            text += "   Date of Birth: " + $('#dob_input').val();
            text += "   Phone number: +91 " + $('#phone_input').val();
            text += "   Email: " + $('#email_input').val();
            let arr = $('input.subject_input');
            let avg = 0.0;

            for (var key in arr) {
                if (arr.hasOwnProperty(key)) {
                    console.log(key + " -> " + parseFloat(arr[key]['value']));
                    avg += parseFloat(arr[key]['value']);
                }
            }

            console.log(typeof(avg))
            text += "   Average marks across subjects: " + 4;
            console.log(text);
            let disp = $('textarea');
            disp.html(text);
            disp.css('display', 'block');
        }
    </script>

</html>